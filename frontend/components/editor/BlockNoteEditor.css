/* BlockNote 세로 텍스트 문제 해결을 위한 글로벌 CSS */

/* 가장 강력한 선택자로 모든 BlockNote 요소에 적용 */
.ProseMirror {
  writing-mode: horizontal-tb !important;
  direction: ltr !important;
  text-orientation: mixed !important;
}

.bn-editor {
  writing-mode: horizontal-tb !important;
  direction: ltr !important;
  text-orientation: mixed !important;
}

.bn-block-content {
  writing-mode: horizontal-tb !important;
  direction: ltr !important;
  text-orientation: mixed !important;
}

.bn-block-content p {
  writing-mode: horizontal-tb !important;
  direction: ltr !important;
  text-orientation: mixed !important;
}

.bn-block-content div {
  writing-mode: horizontal-tb !important;
  direction: ltr !important;
  text-orientation: mixed !important;
}

.bn-container {
  writing-mode: horizontal-tb !important;
  direction: ltr !important;
  text-orientation: mixed !important;
}

.bn-container * {
  writing-mode: horizontal-tb !important;
  direction: ltr !important;
  text-orientation: mixed !important;
}

/* 컨테이너 레벨에서 강제 적용 */
.blocknote-editor {
  writing-mode: horizontal-tb !important;
  direction: ltr !important;
}

/* 다크 테마 스타일 */
.bn-container {
  background-color: rgb(31, 41, 55) !important;
  color: rgb(209, 213, 219) !important;
}

.bn-editor {
  background-color: rgb(31, 41, 55) !important;
  color: rgb(209, 213, 219) !important;
  border: none !important;
}

.bn-block-content {
  color: rgb(209, 213, 219) !important;
}

.bn-block-content p {
  color: rgb(209, 213, 219) !important;
}

/* 플레이스홀더 스타일 */
.bn-block-content[data-placeholder]:before {
  color: rgb(156, 163, 175) !important; /* gray-400 */
}

/* 선택된 블록 스타일 */
.bn-block-outer.bn-block-selected {
  background-color: rgb(55, 65, 81) !important; /* gray-700 */
}

/* 툴바 스타일 */
.bn-toolbar {
  background-color: rgb(55, 65, 81) !important; /* gray-700 */
  border: 1px solid rgb(75, 85, 99) !important; /* gray-600 */
}

.bn-toolbar button {
  color: rgb(209, 213, 219) !important;
}

.bn-toolbar button:hover {
  background-color: rgb(75, 85, 99) !important; /* gray-600 */
}

/* 슬래시 메뉴 스타일 */
.bn-suggestion-menu {
  background-color: rgb(55, 65, 81) !important; /* gray-700 */
  border: 1px solid rgb(75, 85, 99) !important; /* gray-600 */
}

.bn-suggestion-menu-item {
  color: rgb(209, 213, 219) !important;
}

.bn-suggestion-menu-item:hover,
.bn-suggestion-menu-item.selected {
  background-color: rgb(34, 197, 94) !important; /* cyan-600 */
}

/* BlockNote Editor Horizontal Writing Mode Fix */

/* 최상위 에디터 컨테이너 */
.bn-editor,
.bn-editor * {
  writing-mode: horizontal-tb !important;
  text-orientation: mixed !important;
  direction: ltr !important;
}

/* ProseMirror 에디터 영역 */
.ProseMirror,
.ProseMirror * {
  writing-mode: horizontal-tb !important;
  text-orientation: mixed !important;
  direction: ltr !important;
}

/* BlockNote 블록 컨텐츠 */
.bn-block-content,
.bn-block-content * {
  writing-mode: horizontal-tb !important;
  text-orientation: mixed !important;
  direction: ltr !important;
}

/* BlockNote 인라인 컨텐츠 */
.bn-inline-content,
.bn-inline-content * {
  writing-mode: horizontal-tb !important;
  text-orientation: mixed !important;
  direction: ltr !important;
}

/* 텍스트 입력 영역 - 번호 리스트 예외 처리 추가 */
.bn-editor [contenteditable],
.bn-editor [contenteditable] * {
  writing-mode: horizontal-tb !important;
  text-orientation: mixed !important;
  direction: ltr !important;
}

/* 번호 리스트 요소에 대한 예외 처리 */
.bn-editor ol,
.bn-editor ul,
.bn-editor li,
.bn-editor ol *,
.bn-editor ul *,
.bn-editor li * {
  text-align: inherit !important; /* 강제 left 정렬 제거 */
}

/* BlockNote의 번호 리스트 특정 클래스들 */
.bn-editor .bn-list-item,
.bn-editor .bn-numbered-list-item,
.bn-editor .bn-bullet-list-item {
  text-align: inherit !important;
  list-style-position: outside !important; /* 번호를 외부에 배치 */
}

/* 모든 텍스트 노드에 대한 강제 설정 */
.bn-editor p,
.bn-editor div,
.bn-editor span,
.bn-editor h1,
.bn-editor h2,
.bn-editor h3,
.bn-editor h4,
.bn-editor h5,
.bn-editor h6 {
  writing-mode: horizontal-tb !important;
  text-orientation: mixed !important;
  direction: ltr !important;
  display: block !important;
}

/* BlockNote 특정 클래스들 */
[class*="bn-"],
[class*="blocknote"] {
  writing-mode: horizontal-tb !important;
  text-orientation: mixed !important;
  direction: ltr !important;
}

/* Mantine UI 컴포넌트들 (BlockNote가 Mantine 사용) */
[class*="mantine"],
[data-mantine-color-scheme] {
  writing-mode: horizontal-tb !important;
  text-orientation: mixed !important;
  direction: ltr !important;
}

/* 극도로 강력한 선택자 - 모든 요소에 강제 적용 (번호 리스트 제외) */
* {
  writing-mode: horizontal-tb !important;
  text-orientation: mixed !important;
  direction: ltr !important;
}

/* 특별히 contenteditable 요소들 - 번호 리스트 예외 처리 */
[contenteditable="true"],
[contenteditable="true"] * {
  writing-mode: horizontal-tb !important;
  text-orientation: mixed !important;
  direction: ltr !important;
}

/* 번호 리스트가 아닌 contenteditable 요소에만 left 정렬 적용 */
[contenteditable="true"]:not(ol):not(ul):not(li),
[contenteditable="true"] *:not(ol):not(ul):not(li) {
  text-align: left !important;
}

/* CSS 변수 오버라이드 */
:root {
  --bn-writing-mode: horizontal-tb !important;
  --bn-text-orientation: mixed !important;
  --bn-direction: ltr !important;
}

/* 모든 div 요소에 강제 적용 (번호 리스트 제외) */
div:not(ol):not(ul):not(li), 
p:not(ol):not(ul):not(li), 
span:not(ol):not(ul):not(li), 
h1:not(ol):not(ul):not(li), 
h2:not(ol):not(ul):not(li), 
h3:not(ol):not(ul):not(li), 
h4:not(ol):not(ul):not(li), 
h5:not(ol):not(ul):not(li), 
h6:not(ol):not(ul):not(li) {
  writing-mode: horizontal-tb !important;
  text-orientation: mixed !important;
  direction: ltr !important;
  unicode-bidi: normal !important;
} 