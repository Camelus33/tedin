<?xml version="1.0" encoding="UTF-8"?>
<svg width="1600" height="900" viewBox="0 0 1600 900" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#1f2937"/>
      <stop offset="100%" stop-color="#0b1220"/>
    </linearGradient>
    <style>
      .layer { fill: #111827; stroke: #4f46e5; stroke-width: 3; fill-opacity: 0.55; }
      .title { fill: #e5e7eb; font-family: Inter, Arial, sans-serif; font-size: 28px; font-weight: 700; }
      .desc { fill: #c7d2fe; font-family: Inter, Arial, sans-serif; font-size: 20px; }
      .cap { fill: #93c5fd; font-family: Inter, Arial, sans-serif; font-size: 18px; }
      .arrow { stroke: #60a5fa; stroke-width: 4; marker-end: url(#arrowhead); opacity: 0.9; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#60a5fa"/>
    </marker>
  </defs>
  <rect x="0" y="0" width="1600" height="900" fill="url(#g)"/>
  <text x="60" y="80" class="title" font-size="40">Habitus33 System Architecture</text>

  <!-- Layers -->
  <g transform="translate(60,140)">
    <rect class="layer" x="0" y="0" width="1480" height="110" rx="14"/>
    <text class="title" x="24" y="45">Capture Layer</text>
    <text class="desc" x="24" y="80">Sessions · Highlights → Memo automation (friction↓)</text>
  </g>

  <g transform="translate(60,270)">
    <rect class="layer" x="0" y="0" width="1480" height="110" rx="14"/>
    <text class="title" x="24" y="45">Evolution Layer</text>
    <text class="desc" x="24" y="80">Think-Add / Connect / Quiz / Single-Note state machine</text>
  </g>

  <g transform="translate(60,400)">
    <rect class="layer" x="0" y="0" width="1480" height="110" rx="14"/>
    <text class="title" x="24" y="45">Encapsulation Layer</text>
    <text class="desc" x="24" y="80">AI‑Link (JSON‑LD with timeline)</text>
  </g>

  <g transform="translate(60,530)">
    <rect class="layer" x="0" y="0" width="1480" height="110" rx="14"/>
    <text class="title" x="24" y="45">Search / Dialogue Layer</text>
    <text class="desc" x="24" y="80">Hybrid search → Conversational context injection</text>
  </g>

  <g transform="translate(60,660)">
    <rect class="layer" x="0" y="0" width="1480" height="110" rx="14"/>
    <text class="title" x="24" y="45">Feedback Layer</text>
    <text class="desc" x="24" y="80">Zengo cognitive metrics close the loop</text>
  </g>

  <!-- Flow arrows -->
  <line class="arrow" x1="800" y1="250" x2="800" y2="270"/>
  <line class="arrow" x1="800" y1="380" x2="800" y2="400"/>
  <line class="arrow" x1="800" y1="510" x2="800" y2="530"/>
  <line class="arrow" x1="800" y1="640" x2="800" y2="660"/>

  <!-- Caption -->
  <text x="60" y="830" class="cap">Standardized event stream → Temporal capsule → Personalization improves over time</text>
</svg>


