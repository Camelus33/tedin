# 스테이징 테스트 체크리스트 - 개념이해도 점수 기능

## 🚀 배포 정보
- **브랜치**: `staging/concept-score-feature`
- **커밋**: `b7188ea` - feat: Add concept understanding score feature
- **배포 URL**: [스테이징 환경 URL]

## 📋 백엔드 테스트

### 1. 데이터베이스 스키마
- [ ] MongoDB 연결 확인
- [ ] Prisma 스키마 생성 확인 (`npx prisma generate`)
- [ ] 새로운 모델들 (Note, ConceptScore, ScoreCalculation) 확인

### 2. API 엔드포인트 테스트
- [ ] `GET /api/notes/:noteId/concept-score` - 점수 조회
- [ ] `POST /api/notes/:noteId/update-score` - 점수 업데이트
- [ ] `GET /api/performance/stats` - 성능 통계 (관리자만)

### 3. 에러 핸들링 테스트
- [ ] 잘못된 noteId로 요청 시 404 응답
- [ ] 인증되지 않은 요청 시 401 응답
- [ ] 잘못된 액션으로 요청 시 400 응답

### 4. 성능 테스트
- [ ] 점수 계산 시간 측정
- [ ] 메모리 사용량 모니터링
- [ ] 캐싱 시스템 작동 확인

## 🎨 프론트엔드 테스트

### 1. UI 컴포넌트 테스트
- [ ] `/test-concept-score` 페이지 접근
- [ ] ConceptScoreIcon 렌더링 확인
- [ ] 다양한 점수 레벨별 아이콘/색상 확인
- [ ] 팝업 열기/닫기 기능 확인

### 2. TSNoteCard 통합 테스트
- [ ] 메모카드에 점수 아이콘 표시 확인
- [ ] 아이콘 클릭 시 팝업 열림 확인
- [ ] 팝업 내 세부 점수 표시 확인
- [ ] 개선 제안 목록 표시 확인

### 3. API 연동 테스트
- [ ] 실제 노트 데이터로 점수 조회
- [ ] 점수 업데이트 액션 실행
- [ ] 로딩 상태 표시 확인
- [ ] 에러 상태 처리 확인

### 4. 반응형 디자인 테스트
- [ ] 모바일 화면에서 UI 확인
- [ ] 태블릿 화면에서 UI 확인
- [ ] 데스크톱 화면에서 UI 확인

## 🔧 기능별 테스트

### 1. 점수 계산 로직
- [ ] 생각추가 점수 (0-20점) 계산 확인
- [ ] 메모진화 점수 (0-20점) 계산 확인
- [ ] 지식연결 점수 (0-20점) 계산 확인
- [ ] 플래시카드 점수 (0-20점) 계산 확인
- [ ] 태그활용 점수 (0-10점) 계산 확인
- [ ] 사용자평점 점수 (0-10점) 계산 확인

### 2. 액션별 업데이트
- [ ] `add_thought` 액션 테스트
- [ ] `evolve_memo` 액션 테스트
- [ ] `add_connection` 액션 테스트
- [ ] `create_flashcard` 액션 테스트
- [ ] `add_tag` 액션 테스트
- [ ] `update_rating` 액션 테스트

### 3. 캐싱 시스템
- [ ] 5분 TTL 캐시 작동 확인
- [ ] 캐시 무효화 기능 확인
- [ ] 성능 메트릭 수집 확인

## 🚨 안전성 테스트

### 1. 데이터 무결성
- [ ] 기존 노트 데이터 손실 없음 확인
- [ ] 새로운 점수 데이터 정상 저장 확인
- [ ] 데이터베이스 연결 안정성 확인

### 2. 에러 복구
- [ ] API 오류 시 적절한 에러 메시지 표시
- [ ] 네트워크 오류 시 재시도 기능 확인
- [ ] 서버 재시작 후 데이터 복구 확인

### 3. 성능 영향
- [ ] 기존 기능 성능 저하 없음 확인
- [ ] 새로운 기능이 다른 기능에 영향 없음 확인
- [ ] 메모리 누수 없음 확인

## 📊 성능 메트릭

### 목표 성능 지표
- [ ] 점수 계산 시간: < 100ms
- [ ] API 응답 시간: < 200ms
- [ ] 메모리 사용량 증가: < 10MB
- [ ] 캐시 히트율: > 80%

### 모니터링
- [ ] 성능 대시보드 접근 가능
- [ ] 실시간 메트릭 수집 확인
- [ ] 알림 시스템 작동 확인

## 🔄 롤백 계획

### 문제 발생 시 즉시 롤백
- [ ] 데이터 손실 발생 시
- [ ] 성능 저하 20% 이상 시
- [ ] 사용자 경험 악화 시
- [ ] 보안 취약점 발견 시

### 롤백 절차
1. 스테이징 브랜치에서 main 브랜치로 복구
2. 데이터베이스 스키마 롤백
3. API 엔드포인트 비활성화
4. 프론트엔드 기능 플래그 비활성화

## ✅ 테스트 완료 후

### 승인 조건
- [ ] 모든 테스트 항목 통과
- [ ] 성능 지표 목표 달성
- [ ] 보안 검토 완료
- [ ] 사용자 경험 검증 완료

### 배포 승인
- [ ] 개발팀 승인
- [ ] QA팀 승인
- [ ] 관리자 승인
- [ ] main 브랜치 머지 준비

---

**테스트 담당자**: [담당자명]
**테스트 일정**: [날짜]
**테스트 환경**: [환경 정보] 