# 고급 마크다운 편집기 구현 PRD

## 📋 프로젝트 개요
스크린샷의 NotebookLM 스타일 편집기를 참고하여 서머리노트 오른쪽 패널의 편집기를 완전히 교체하는 프로젝트

## 🎯 목표
- 블록 기반 마크다운 편집기를 전통적인 리치 텍스트 에디터로 전환
- 스크린샷과 거의 동일한 UI/UX 구현
- AI 기능 제외하고 순수 문서 편집 기능만 구현

## 📊 스크린샷 스펙 분석

### 상단 헤더 영역
- **제목**: "스튜디오 > 메모" (기존 제목 유지)
- **액션 버튼들**: 새 메모, 삭제, 공유, 설정, 프로필 (현재는 불필요)

### 편집기 툴바 (핵심 교체 대상)
1. **실행 취소/다시 실행**: ↶ ↷ 아이콘
2. **블록 타입 드롭다운**: "Normal" (제목, 문단 등 선택)
3. **인라인 서식**: B(굵게), I(기울임), U(밑줄), S(취소선)
4. **목록 서식**: 글머리 기호, 번호 매기기
5. **정렬 서식**: 왼쪽, 가운데, 오른쪽 정렬
6. **기타**: 서식 지우기

### 메인 콘텐츠 영역
- **문서 제목**: 기존 제목 유지
- **소스 정보**: "소스 1개" 표시 (현재는 불필요)
- **본문 내용**: 리치 텍스트 편집 영역
- **플레이스홀더**: "입력을 시작하세요..."

### 하단 영역
- **버튼**: "소스로 전환" (현재는 불필요)
- **주의사항**: AI 관련 면책 조항 (현재는 불필요)

## 🛠️ 기술 요구사항

### 핵심 기능
1. **전통적인 리치 텍스트 에디터**
   - contentEditable 기반
   - execCommand API 활용
   - 커스텀 툴바 구현

2. **고급 서식 기능**
   - 인라인 서식: 굵게, 기울임, 밑줄, 취소선
   - 블록 서식: 제목(H1, H2, H3), 문단
   - 목록: 글머리 기호, 번호 매기기
   - 정렬: 왼쪽, 가운데, 오른쪽

3. **사용자 경험**
   - 실행 취소/다시 실행
   - 키보드 단축키 지원
   - 플레이스홀더 텍스트
   - 다크 테마 완벽 지원

### UI/UX 요구사항
1. **툴바 레이아웃**
   - 수평 배치의 버튼들
   - 아이콘 + 텍스트 조합
   - 활성화 상태 시각적 표시

2. **편집기 영역**
   - 최소 높이 400px
   - 스크롤 가능
   - 포커스 시 테두리 강조

3. **반응형 디자인**
   - 모바일에서도 사용 가능
   - 툴바 축소/확장

## 🔄 기존 시스템 분석

### 현재 API 구조
- `userMarkdownContent`: 메인 마크다운 콘텐츠
- `onChange`: 콘텐츠 변경 핸들러
- `editable`: 편집 가능 여부

### 교체 대상 컴포넌트
- `DynamicBlockNoteEditor` → 새로운 리치 텍스트 에디터
- 기존 JSON 기반 데이터 → HTML 기반 데이터

## 📝 구현 단계

### Phase 1: 기본 구조
1. 새로운 에디터 컴포넌트 생성
2. 기본 contentEditable 구현
3. 툴바 스켈레톤 구현

### Phase 2: 서식 기능
1. 인라인 서식 (굵게, 기울임, 밑줄, 취소선)
2. 블록 서식 (제목, 문단)
3. 목록 서식 (글머리 기호, 번호 매기기)

### Phase 3: 고급 기능
1. 정렬 기능
2. 실행 취소/다시 실행
3. 키보드 단축키

### Phase 4: UI/UX 완성
1. 다크 테마 완벽 적용
2. 플레이스홀더 텍스트
3. 반응형 디자인

### Phase 5: 통합 및 테스트
1. 기존 API와 통합
2. 데이터 변환 (JSON ↔ HTML)
3. 테스트 및 버그 수정

## 🎨 디자인 가이드라인

### 색상 팔레트
- 배경: rgb(31, 41, 55) (gray-800)
- 텍스트: rgb(209, 213, 219) (gray-300)
- 테두리: rgb(75, 85, 99) (gray-600)
- 강조: rgb(34, 197, 94) (cyan-400)

### 툴바 스타일
- 배경: rgb(55, 65, 81) (gray-700)
- 버튼 호버: rgb(75, 85, 99) (gray-600)
- 활성 버튼: cyan-600

## 📋 성공 기준
1. 스크린샷과 90% 이상 유사한 UI
2. 모든 서식 기능 정상 작동
3. 기존 API와 완벽 호환
4. 성능 저하 없음
5. 모바일 반응형 지원 